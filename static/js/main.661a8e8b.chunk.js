(this["webpackJsonpsotatek-test"]=this["webpackJsonpsotatek-test"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),s=(n(47),n(6)),i=n(5),o=n(4),l=n.n(o),r=n(36),d=n.n(r),u=(n(48),n(1)),j=l.a.forwardRef((function(e,t){var n=e.children,a=e.type,c=void 0===a?"button":a,s=e.onClick,i=e.appearance,o=e.inverter,l=e.size,r=e.outlined,d=e.rounded,j=e.loading,b=e.disabled,m=e.selected,h=e.fullWidth,O=e.className,f=["button",i&&"is-".concat(i),o&&"is-inverter",l&&"is-".concat(l),r&&"is-outlined",d&&"is-rounded",j&&"is-loading",b&&"is-disabled",m&&"is-selected",O&&O,h&&"is-fullwidth"].filter(Boolean).join(" ");return Object(u.jsx)("button",{ref:t,type:c,className:f,onClick:function(e){s&&s(e)},disabled:b,children:n})}));j.defaultProps={type:"button"};var b=j,m=function(e){var t=e.children,n=e.className,a=e.hasAddons,c=e.align,s=["buttons",a&&"has-addons",c&&"is-".concat(c),n].filter(Boolean).join(" ");return Object(u.jsx)("div",{className:s,children:t})},h=n(16),O=(n(50),n(51),function(e){var t=e.loading,n=e.iconLeft,a=e.iconRight,c=e.label,s=e.error,i=e.children,l=e.horizontal,r=e.value,d=void 0===r?"":r,j=e.sizes,b=["control",t&&"is-loading",n&&"has-icon-left",a&&"has-icon-right"].filter(Boolean).join(" "),m=Object(o.useMemo)((function(){return Object(u.jsxs)("div",{className:"field".concat(j?" is-".concat(j):""),children:[c&&Object(u.jsx)("label",{className:"label",children:c}),Object(u.jsxs)("div",{className:b,children:[i,n&&Object(u.jsx)("span",{className:"icon-ip is-left",children:n}),a&&Object(u.jsx)("span",{className:"icon-ip is-right",children:a})]}),s&&Object(u.jsx)("p",{className:"help is-danger",children:s})]})}),[d,s,b,i]),h=Object(o.useMemo)((function(){return Object(u.jsxs)("div",{className:"field is-horizontal".concat(j?" is-".concat(j):""),children:[Object(u.jsx)("div",{className:"field-label",children:c&&Object(u.jsx)("label",{className:"label",children:c})}),Object(u.jsx)("div",{className:"field-body",children:Object(u.jsxs)("div",{className:"field",children:[Object(u.jsxs)("div",{className:b,children:[i,n&&Object(u.jsx)("span",{className:"icon-ip is-left",children:n}),a&&Object(u.jsx)("span",{className:"icon-ip is-right",children:a})]}),s&&Object(u.jsx)("p",{className:"help is-danger",children:s})]})})]})}),[d,s,b,i]);return l?h:m}),f=function(e){var t=e.type,n=e.className,a=e.placeholder,c=void 0===a?"":a,s=e.appearance,o=e.rounded,l=e.disabled,r=void 0!==l&&l,d=e.readonly,j=void 0!==d&&d,b=e.error,m=(e.iconLeft,e.iconRight,e.loading,e.horizontal,e.label,Object(h.a)(e,["type","className","placeholder","appearance","rounded","disabled","readonly","error","iconLeft","iconRight","loading","horizontal","label"])),f=["input",n,s&&"is-".concat(s),o&&"is-rounded",b&&"is-danger"].filter(Boolean).join(" ");return Object(u.jsx)(O,Object(i.a)(Object(i.a)({},e),{},{children:"textarea"!==t?Object(u.jsx)("input",Object(i.a)({type:t,className:f,placeholder:c,disabled:r,readOnly:j},m)):Object(u.jsx)("textarea",Object(i.a)({className:"".concat(void 0!==n?n:"").concat(b?" is-danger":""),placeholder:c,disabled:r,readOnly:j},m))}))},v=l.a.memo(f,(function(e,t){return e.value===t.value&&(null===e||void 0===e?void 0:e.loading)===(null===t||void 0===t?void 0:t.loading)&&e.error===(null===t||void 0===t?void 0:t.error)}));function p(){return Math.random().toString(16).slice(2,8)+Date.now().toString(16).slice(4,8)}var x,k,N=Object(o.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(u.jsxs)("div",{className:"date-due-input",children:[Object(u.jsx)("span",{className:"input",onClick:a,ref:t,children:n}),Object(u.jsx)("span",{className:"date-due-icon input",children:Object(u.jsx)("img",{width:21,alt:"calendar",src:"./calendar.svg"})})]})}));function g(e,t){switch(t.type){case k.TASK_FORM_CHANGE_TITLE:return Object(i.a)(Object(i.a)({},e),{},{title:t.payload});case k.TASK_FORM_CHANGE_DESCRIPTION:return Object(i.a)(Object(i.a)({},e),{},{description:t.payload});case k.TASK_FORM_CHANGE_DUE_DATE:return Object(i.a)(Object(i.a)({},e),{},{dueDate:t.payload});case k.TASK_FORM_CHANGE_PRIORITY:return Object(i.a)(Object(i.a)({},e),{},{priority:t.payload});case k.TASK_FORM_CHANGE_IS_VALID:return Object(i.a)(Object(i.a)({},e),{},{validForm:t.payload});case k.TASK_FORM_RESET:return t.payload;default:return e}}!function(e){e.LOW="Low",e.NORMAL="Normal",e.HIGH="High"}(x||(x={})),function(e){e.TASK_FORM_CHANGE_TITLE="task_form_change_title",e.TASK_FORM_CHANGE_DESCRIPTION="task_form_change_description",e.TASK_FORM_CHANGE_DUE_DATE="task_form_change_due_date",e.TASK_FORM_CHANGE_PRIORITY="task_form_change_priority",e.TASK_FORM_RESET="task_form_rest",e.TASK_FORM_CHANGE_IS_VALID="task_form_change_is_valid"}(k||(k={}));var C=function(e){var t=e.initialTask,n=e.onSubmit,a=e.isUpdateForm,c=void 0!==a&&a,l=Object(o.useMemo)((function(){return Object(i.a)(Object(i.a)({},t),{},{validForm:!0})}),[t]),r=Object(o.useReducer)(g,l),j=Object(s.a)(r,2),m=j[0],h=j[1],f=m.id,C=m.title,_=m.description,y=m.dueDate,T=m.priority,R=m.completed,S=m.validForm,A=Object(o.useRef)(!1),E=Object(o.useMemo)((function(){return""===C.trim()}),[C]),D=Object(o.useMemo)((function(){return A.current&&E||!S&&E}),[E,S]);return Object(u.jsxs)("div",{className:"task-form",children:[Object(u.jsx)(v,{type:"text",placeholder:"Add new task...",appearance:D?"danger":void 0,value:C,onChange:function(e){var t=e.target;A.current||(A.current=!0),h({type:k.TASK_FORM_CHANGE_TITLE,payload:t.value})},error:D?"This field is required":""}),Object(u.jsx)(v,{type:"textarea",label:"Description",value:_,onChange:function(e){var t=e.target;h({type:k.TASK_FORM_CHANGE_DESCRIPTION,payload:t.value})}}),Object(u.jsxs)("div",{className:"task-form-row",children:[Object(u.jsx)(O,{label:"Due Date",children:Object(u.jsx)(d.a,{dateFormat:"dd LLL yyyy",selected:y,onChange:function(e){h({type:k.TASK_FORM_CHANGE_DUE_DATE,payload:e})},minDate:new Date,customInput:Object(u.jsx)(N,{}),wrapperClassName:"date-due-custom"})}),Object(u.jsx)(O,{label:"Priority",iconRight:Object(u.jsx)("svg",{className:"icon",viewBox:"0 0 213.333 213.333",children:Object(u.jsx)("path",{d:"M0 53.333L106.667 160 213.333 53.333z"})}),children:Object(u.jsxs)("select",{className:"task-selection input",value:T,onChange:function(e){var t=e.target.value;h({type:k.TASK_FORM_CHANGE_PRIORITY,payload:t})},children:[Object(u.jsx)("option",{value:x.LOW,children:"Low"}),Object(u.jsx)("option",{value:x.NORMAL,children:"Normal"}),Object(u.jsx)("option",{value:x.HIGH,children:"High"})]})})]}),!R&&Object(u.jsx)("div",{className:"task-form-submit",children:Object(u.jsx)(b,{appearance:"success",fullWidth:!0,onClick:function(){var e;if(E)h({type:k.TASK_FORM_CHANGE_IS_VALID,payload:!1});else{A.current=!1;var t={id:f,title:C.trim(),description:null!==(e=null===_||void 0===_?void 0:_.trim())&&void 0!==e?e:"",dueDate:y,priority:T,completed:R};if(n(t,c),!c){var a=Object(i.a)(Object(i.a)({},l),{},{id:p()});h({type:k.TASK_FORM_RESET,payload:a})}}},children:c?"Update":"Add"})})]})},_=Object(o.memo)(C),y=(n(99),n(100),function(e){var t=e.label,n=e.id,a=e.className,c=e.circle,s=e.disabled,o=e.sizes,l=Object(h.a)(e,["label","id","className","circle","disabled","sizes"]),r=["checkbox-outer",o&&"is-".concat(o),a&&a].filter(Boolean).join(" "),d=["checkbox",c&&"is-circle"].filter(Boolean).join(" ");return Object(u.jsxs)("div",{className:r,children:[Object(u.jsxs)("span",{className:d,children:[Object(u.jsx)("input",Object(i.a)({type:"checkbox",className:"checkbox-input",id:n,disabled:s},l)),Object(u.jsx)("span",{className:"checkbox-inner"}),Object(u.jsxs)("svg",{viewBox:"0 0 24 24",width:"1.5em",height:"1.5em",className:"icon checkbox-check",children:[Object(u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(u.jsx)("path",{d:"M5 12l5 5l10 -10"})]})]}),t&&Object(u.jsx)("label",{className:"checkbox-label",htmlFor:n,children:t})]})});var T=function(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var n=document.querySelector("#".concat(e)),a=n||function(e){var t=document.createElement("div");return t.setAttribute("id",e),t}(e);if(n||function(e){var t=document.body;t&&t.lastElementChild&&t.insertBefore(e,t.lastElementChild.nextElementSibling)}(a),t.current){a.appendChild(t.current);var c=t.current;return function(){c&&c.remove(),-1===a.childNodes.length&&a.remove()}}return function(){}}),[e]),t.current||(t.current=document.createElement("div"),t.current.setAttribute("class","modal")),t.current},R=function(e){var t=e.id,n=e.children,c=T(t);return c?Object(a.createPortal)(n,c):Object(a.createPortal)(n,document.createElement("div"))};var S=function(){Object(o.useLayoutEffect)((function(){var e=document.body;return null!==e?(e.style.overflow="hidden",function(){e.style.overflow="visible"}):function(){}}),[])},A=(n(101),function(e){var t=e.children,n=e.open,a=e.hideModal,c=e.hasClickOutside,s=e.large,i=e.hasCard,o=e.className,l=e.hasCloseButton,r=["modal-background",!c&&"no-cursor"].filter(Boolean).join(" "),d=[i?"modal-card":"modal-content",s&&"is-large",o&&o].filter(Boolean).join(" ");return S(),n?Object(u.jsxs)(R,{id:"modal",children:[Object(u.jsx)("div",{className:r,onClick:function(){c&&a()}}),Object(u.jsx)("div",{className:d,children:t}),!i&&l&&Object(u.jsx)("button",{type:"button",className:"modal-close","aria-label":"close",onClick:a})]}):null});A.defaultProps={hasClickOutside:!1,hasCloseButton:!0};var E=A;var D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.useState)(e),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(o.useCallback)((function(){c((function(e){return!e}))}),[]);return[a,i]},w=function(e){var t=e.title,n=e.content,a=e.onCancel,c=e.onSubmit;return Object(u.jsxs)("div",{className:"task-confirmation",children:[Object(u.jsx)("h3",{children:t}),Object(u.jsx)("p",{children:n}),Object(u.jsxs)(m,{align:"right",children:[Object(u.jsx)(b,{appearance:"white",size:"small",onClick:a,children:"Cancel"}),Object(u.jsx)(b,{appearance:"danger",size:"small",onClick:c,children:"Remove"})]})]})},F=function(e){var t=e.task,n=e.onRemove,a=e.onUpdateForm,c=e.isSelected,i=e.onSelected,o=t.id,l=t.title,r=t.completed,d=D(!1),j=Object(s.a)(d,2),h=j[0],O=j[1],f=D(!1),v=Object(s.a)(f,2),p=v[0],x=v[1],k=["task-item",c&&"is-selected",r&&"is-completed"].filter(Boolean).join(" ");return Object(u.jsxs)("div",{className:"task-item-wrapper",children:[Object(u.jsxs)("div",{className:k,children:[Object(u.jsx)(y,{id:o,label:l,checked:c,onChange:function(e){var t=e.target;i(o,t.checked)}}),Object(u.jsx)("div",{className:"task-item-action",children:Object(u.jsxs)(m,{children:[Object(u.jsx)(b,{appearance:"info",size:"small",onClick:function(){x()},children:"Detail"}),Object(u.jsx)(b,{appearance:"danger",size:"small",onClick:function(){O()},children:"Remove"})]})})]}),p&&Object(u.jsx)("div",{className:"task-item-detail",children:Object(u.jsx)(_,{initialTask:t,isUpdateForm:!0,onSubmit:a})}),h&&Object(u.jsx)(E,{open:h,hideModal:O,hasCloseButton:!1,children:Object(u.jsx)(w,{title:"Remove",content:"Are you sure you want to remove this task?",onCancel:function(){O()},onSubmit:function(){n(o),O()}})})]})},M=Object(o.memo)(F),I=function(){return Object(u.jsxs)("div",{className:"task-empty",children:[Object(u.jsx)("img",{width:50,src:"./empty.svg",alt:"Empty list"}),Object(u.jsx)("h3",{children:"Empty List"})]})},L=function(e){var t=e.selectedTaskIds,n=e.onRemove,a=e.onComplete,c=D(),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"task-bulk-action",children:[Object(u.jsx)("p",{children:"Bulk action"}),Object(u.jsxs)(m,{children:[Object(u.jsx)(b,{appearance:"success",onClick:a,disabled:0===t.length,children:"Done"}),Object(u.jsx)(b,{appearance:"danger",onClick:function(){l()},disabled:0===t.length,children:"Remove"})]})]}),o&&Object(u.jsx)(E,{open:o,hideModal:l,hasCloseButton:!1,children:Object(u.jsx)(w,{title:"Remove",content:"Are you sure you want to remove selected tasks?",onCancel:function(){l()},onSubmit:function(){n(),l()}})})]})},B=Object(o.memo)(L),H=n(35),K=n(39),G=n(40),z=(n(102),function(e){var t=e.onClick,n=e.title,a=e.size,c=["delete",a&&"is-".concat(a)].filter(Boolean).join(" ");return Object(u.jsx)("button",{type:"button",className:c,"aria-label":"Delete",onClick:t,title:n})});z.defaultProps={title:"Delete"};var P=z,U=(n(103),function(e){var t=e.content,n=e.closeable,a=e.onClose;return Object(u.jsxs)("div",{className:"toast-content",children:[t,n&&Object(u.jsx)(P,{onClick:function(){a&&a()},size:"small"})]})}),J=function(){function e(){Object(K.a)(this,e)}return Object(G.a)(e,null,[{key:"success",value:function(e){this.message("success",e)}},{key:"warning",value:function(e){this.message("warning",e)}},{key:"danger",value:function(e){this.message("danger",e)}},{key:"message",value:function(e,t){var n=t.content,c=t.closeable,s=t.duration,i=void 0===s?3e3:s,o=t.onClose,l=["toast","is-".concat(e),c&&"is-closeable"].filter(Boolean).join(" "),r=document.createElement("div");r.setAttribute("class",l),c||(r.setAttribute("style","-webkit-animation-duration: ".concat(i,"ms")),r.setAttribute("style","animation-duration: ".concat(i,"ms"))),document.body&&document.body.appendChild(r);if(Object(a.render)(Object(u.jsx)(U,{onClose:function(){if(r&&r.parentNode){var e=r.parentNode;Object(a.unmountComponentAtNode)(r),e.removeChild(r)}o&&o()},closeable:c,content:n}),r),r&&r.parentNode&&!c){var d=r.parentNode;setTimeout((function(){Object(a.unmountComponentAtNode)(r),d.removeChild(r)}),i)}}}]),e}();var W="tasks";function V(e){var t,n;t=W,n=e,localStorage.setItem(t,JSON.stringify(n))}function Y(e){return 0===e.length?[]:e.sort((function(e,t){return new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()}))}var q=function(){var e=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}(W);return e?e.map((function(e){var t=e.dueDate,n=Object(h.a)(e,["dueDate"]);return Object(i.a)(Object(i.a)({},n),{},{dueDate:new Date(t)})})):[]}();var Q=function(){var e=Object(o.useState)(q),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(""),l=Object(s.a)(c,2),r=l[0],d=l[1],u=Object(o.useState)([]),j=Object(s.a)(u,2),b=j[0],m=j[1],h=Object(o.useMemo)((function(){return n.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())}))}),[r,n]),O=Object(o.useCallback)((function(e){a((function(t){var n=Y([].concat(Object(H.a)(t),[e]));return V(n),n})),J.success({content:"Created successfully!"})}),[]);return{tasks:n,search:r,searchTasks:h,selectedTaskIds:b,handleCreateTask:O,handleUpdateForm:function(e){var t=Y(n.map((function(t){return t.id===e.id?e:t})));a(t),V(t),J.success({content:"Updated successfully!"})},handleRemoveTask:function(e){var t=n.filter((function(t){return e!==t.id}));a(t),V(t),J.success({content:"Deleted successfully!"})},handleSelectTask:function(e,t){var n=t?[].concat(Object(H.a)(b),[e]):b.filter((function(t){return t!==e}));m(n)},handleSearch:function(e){var t=e.target.value;d(t)},handleRemoveBulkTasks:function(){var e=n.filter((function(e){return!b.includes(e.id)}));a(e),V(e),m([]),J.success({content:"Removed successfully!"})},handleCompleteTasks:function(){var e=n.map((function(e){return b.includes(e.id)?Object(i.a)(Object(i.a)({},e),{},{completed:!0}):e}));a(e),V(e),m([]),J.success({content:"Completed successfully!"})}}},X={id:p(),title:"",description:"",dueDate:new Date,priority:x.NORMAL,completed:!1};var Z=function(){var e=Q(),t=e.search,n=e.searchTasks,a=e.selectedTaskIds,c=e.handleCreateTask,s=e.handleSearch,i=e.handleRemoveTask,o=e.handleUpdateForm,l=e.handleSelectTask,r=e.handleRemoveBulkTasks,d=e.handleCompleteTasks;return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsxs)("section",{className:"task-creation task-box",children:[Object(u.jsx)("h2",{className:"task-title",children:"New Task"}),Object(u.jsx)(_,{initialTask:X,onSubmit:c})]}),Object(u.jsxs)("section",{className:"task-list",children:[Object(u.jsxs)("div",{className:"task-box",children:[Object(u.jsx)("h2",{className:"task-title",children:"To Do List"}),Object(u.jsx)(v,{type:"text",placeholder:"Search...",value:t,onChange:s}),0===n.length?Object(u.jsx)(I,{}):n.map((function(e){return Object(u.jsx)(M,{task:e,onRemove:i,onUpdateForm:o,isSelected:a.includes(e.id),onSelected:l},e.id)}))]}),n.length>0&&Object(u.jsx)(B,{selectedTaskIds:a,onRemove:r,onComplete:d})]})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};c.a.render(Object(u.jsx)(Z,{}),document.getElementById("root")),$()},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},99:function(e,t,n){}},[[105,1,2]]]);